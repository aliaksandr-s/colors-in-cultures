<!doctype html>
<html>
  <head>
    <title>Colors In Cultures</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon"type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./apple-touch-icon.png">


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164661926-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-164661926-1');
    </script>


    <!-- A little hack to make client routes work with gh-pages -->
    <!-- works in conjunction with 404.html -->
    <!-- https://www.smashingmagazine.com/2016/08/sghpa-single-page-app-hack-github-pages/ -->
    <script>
      (function(){
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect != location.href) {
          history.replaceState(null, null, redirect);
        }
      })();
    </script>
  </head>

  <body>
    <div id="app"></div>
    <script src="cljs-out/dev-main.js"></script>

    <!-- PWA serviceWorker -->
    <script>
      window.addEventListener('load', e => {
        registerSW(); 
      });

      async function registerSW() { 
        if ('serviceWorker' in navigator) { 
          try {
            await navigator.serviceWorker.register('./sw.js'); 
          } catch (e) {
            console.log('ServiceWorker registration failed. Sorry about that.'); 
          }
        } else {
          console.log('ServiceWorker is not supported in this browser'); 
        }
      }
    </script>

  </body>
</html>
